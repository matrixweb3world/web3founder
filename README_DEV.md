# Web3-Founder 开发指南

本文档提供了在 Web3-Founder 项目中进行开发的相关指南，包括如何使用脚本实现热更新和实时预览。

## 项目结构

项目主要包含以下模块：

- **Discover**: Twitter KOL 监控与 AI 分析系统
  - `Components/`: 包含各种组件，如情感分析、最新推文、AI 解读等
  - `Views/`: 包含主视图入口

## 快速启动

为了方便开发，我们提供了以下几个脚本：

### 1. 运行模拟器

要在 iPhone 16 Pro 模拟器上运行应用，可以使用：

```bash
./run_simulator.sh
```

这个脚本会自动执行以下操作：

- 构建项目
- 安装应用到 iPhone 16 Pro 模拟器
- 启动应用

### 2. 热更新开发

为了实现实时预览和热更新，可以使用：

```bash
./hot_reload.sh
```

这个脚本会：

- 首次构建并运行应用
- 监控文件变化
- 在检测到 Swift 文件变化时自动重新构建并更新应用

**注意**: 此脚本需要安装 `fswatch`，如果没有安装，脚本会自动尝试使用 Homebrew 安装。

### 3. 手动构建与安装

如果热更新脚本不工作或需要完全重新构建应用，可以使用：

```bash
./manual_build.sh
```

这个脚本会：

- 查找并启动 iPhone 16 Pro 模拟器
- 构建应用程序
- 将应用程序安装到模拟器
- 启动应用程序

这是一个可靠的构建方法，特别适用于热更新脚本无法正常工作的情况。

### 4. 设置 Cursor 编辑器实时预览

要在 Cursor 编辑器中启用 SwiftUI 实时预览，可以使用：

```bash
./setup_preview.sh
```

这个脚本会：

- 设置 Cursor 编辑器的配置
- 创建工作区文件
- 配置 SwiftUI 预览环境

## 开发工作流

1. 使用 `setup_preview.sh` 设置 Cursor 编辑器环境
2. 在 Cursor 中打开 `web3-founder.code-workspace`
3. 启动 `hot_reload.sh` 脚本开始监控文件变化
4. 在 Cursor 中编辑代码，每次保存后应用会自动重新构建并更新

## 预览支持

所有组件都支持 SwiftUI 预览，包括：

- 亮色和暗色模式
- 不同设备尺寸
- 组件单独预览

## 调试技巧

- 在 Cursor 中编辑文件时，可以使用 `⌘ + R` 手动刷新预览
- 如果预览不显示，请检查预览提供者是否正确设置
- 使用 `./hot_reload.sh` 时，可以在终端中查看构建日志和错误信息

## 常见问题

1. **热更新不工作**:
   - 确保已安装 `fswatch`
   - 检查构建错误信息
   - 使用 `./manual_build.sh` 进行完整重建

2. **预览不显示**:
   - 确保组件包含 `PreviewProvider`
   - 检查是否启用了 Xcode 的实时预览功能

3. **模拟器无法启动**:
   - 确保已安装 iPhone 16 Pro 模拟器
   - 尝试在 Xcode 中手动启动模拟器
